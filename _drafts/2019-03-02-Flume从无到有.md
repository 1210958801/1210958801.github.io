---
layout: post
title: Flume的从无到有
categories: [技术]
tags: [大数据]
description: 只是一个小小的开端
---

#### 刚开始搭建Flume服务的时候，找了好多网上的博客，要不就是缺胳膊少腿的，要不就是扯一大堆没用的犊子。搞的我乱的一塌糊涂。最终我去了Flume的官方网站。[官方传送门](http://flume.apache.org/FlumeUserGuide.html#complex-flows),虽然是全英文，但是总比走弯路强，所以说以后大家在学东西的时候，不太建议刚一开始就去网上找一大堆别人嚼烂的东西，这样，你理解的东西只局限于他的思维。
## 第一步:名词解析
#### Source(英文翻译为根源、源头,Flume中我们可以理解为一个瓶子的瓶口)
#### Channel(英文翻译为引导 Flume中我们可以理解为是瓶身)
#### Sink(英文翻译为洗涤槽 Flume中我们可以理解为将瓶中水倒掉或者倒入其他瓶子的这个动作)
## 好了，我们先开始第二步:介绍Flume
![介绍](https://user-gold-cdn.xitu.io/2019/3/2/1693d903c944b674?w=2332&h=322&f=png&s=111963)
#### 官方这段话的基本意思就是:Flume是一个高可用的分布式系统，可以收集大量数据，而且可以将不同的数据源转移到集中数据存储中。因为他的数据源是可以扩展的，而且他并不局限于收集日志信息，因此可以用于传输大量事件信息，包括社交媒体网络流量数据、电子邮箱以及一切可能的数据源。而且他还是Apache中的顶级项目。嗯。。。牛逼吹的挺响。具体看看人家是怎么做的吧。
#### 他运行起来就是一个java进程。所以在他的系统要求中是描述的。
![](https://user-gold-cdn.xitu.io/2019/3/2/1693d98a7c91745f?w=1458&h=284&f=png&s=72106)
#### 说白了其实还是，对环境和内存、磁盘空间以及对文件权限的要求罢了。就好像我们下载游戏之前，不都有一个机器最低配置嘛!，比如我之前的电脑就带不起来GTAV。注意:不要忘记配置JDK的环境变量。
## 第三步:Flume的基本结构
![](https://user-gold-cdn.xitu.io/2019/3/2/1693da04d4a331ed?w=2334&h=934&f=png&s=335200)
#### 方才也提到了,其实Flume Agent就是JVM的进程。他只不过被定义为可以传输字节和可选字符串属性集的数据流单元，他是一个将外部数据源流向下一个目的地的组件。工作流程:Flume的source数据源部分，会消费一些像来自WebServer传递的事件。这些外部数据源会以source可识别的格式将事件发送到source。就像是第一步中我们说的瓶子，他可以当做是一个瓶子的瓶口进水，也可以当做是另外一个瓶子接受水。当Flume Source接受事件的时候，channel会将source接受的数据在本地磁盘或者是内存中做备份。他会一直存储这些数据直到数据被消费。接收器(Sink)将事件从channel中取出会放到一个类似于HDFS的仓库，或者是继续向前到下一个Flume Agent的Source中。这段话的意思就如同，我们可以将水倒入瓶中，或选择在瓶中停留片刻，然后再将瓶中的水倒入其他的瓶子当中，也可以将水保留到当前的瓶子当中。以上充分的体现了他的灵活性。
## 未写完，待续。。。